import { Router } from 'express';
import { authenticate } from '../middleware/auth.js';
import { canCreateFeedback, isAdminOrProjectManager } from '../middleware/rbac.js';
import { createClientFeedback, getProjectFeedback, updateClientFeedback, getClientFeedback, deleteClientFeedback } from '../controllers/clientFeedbackController.js';
const router = Router();
router.post('/projects/:projectId/feedback', authenticate, canCreateFeedback, createClientFeedback);
router.get('/projects/:projectId/feedback', authenticate, isAdminOrProjectManager, getProjectFeedback);
router.get('/feedback/:feedbackId', authenticate, getClientFeedback);
router.put('/feedback/:feedbackId', authenticate, isAdminOrProjectManager, updateClientFeedback);
router.delete('/feedback/:feedbackId', authenticate, deleteClientFeedback);
export default router;
